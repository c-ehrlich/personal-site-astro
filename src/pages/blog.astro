---
import { getCollection } from "astro:content";
import PostList from "../components/blog/PostList.astro";
import SubpagesLayout from "../layouts/subpages-layout.astro";

const postsUnsorted = await getCollection("blog");
const posts = postsUnsorted.sort(
  (a, b) => b.data.published.getTime() - a.data.published.getTime(),
);
---

<SubpagesLayout title="Blog">
  <main class="flex flex-col gap-4">
    <div>
      <h2 class="text-4xl">Blog</h2>
      <a href="/blog/tags">View all tags</a> â€¢ <a href="/blog/rss.xml"
        >RSS Feed</a
      >
    </div>
    <PostList posts={posts} />
  </main>
</SubpagesLayout>
